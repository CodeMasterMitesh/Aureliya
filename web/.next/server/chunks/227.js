"use strict";exports.id=227,exports.ids=[227],exports.modules={1323:(e,t)=>{Object.defineProperty(t,"l",{enumerable:!0,get:function(){return function e(t,s){return s in t?t[s]:"then"in t&&"function"==typeof t.then?t.then(t=>e(t,s)):"function"==typeof t&&"default"===s?t:void 0}}})},5710:(e,t,s)=>{s.a(e,async(e,a)=>{try{s.d(t,{Z:()=>c});var r=s(997),l=s(6689),n=s(3514),i=s(1664),o=s.n(i),d=e([n]);function c(){let e=(0,n.a)(e=>e.user),t=(0,n.a)(e=>e.logout),[s,a]=(0,l.useState)(!1),i=(0,l.useRef)(null);return r.jsx("div",{className:"flex items-center justify-end px-4 py-2 bg-slate-900 border-b border-slate-800",children:(0,r.jsxs)("div",{className:"relative",ref:i,children:[(0,r.jsxs)("button",{onClick:()=>a(e=>!e),className:"flex items-center gap-2 px-3 py-2 rounded-lg bg-slate-800 text-slate-200 hover:bg-slate-700",children:[r.jsx("img",{src:e?.profileImage||"/default-avatar.png",alt:"avatar",className:"w-8 h-8 rounded-full object-cover border border-slate-700"}),r.jsx("span",{className:"text-sm font-medium hidden sm:inline-block",children:e?.name||"Admin"}),r.jsx("span",{className:"text-xs opacity-70",children:"▾"})]}),s&&(0,r.jsxs)("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow border p-2 z-50",children:[r.jsx("div",{className:"px-2 py-1 text-xs text-slate-500",children:"Account"}),(0,r.jsxs)(o(),{href:"/admin/setup",className:"flex items-center gap-2 px-2 py-2 rounded hover:bg-slate-100 text-sm",children:[r.jsx("span",{children:"⚙️"})," ",r.jsx("span",{children:"Setup"})]}),(0,r.jsxs)("button",{onClick:()=>{t()},className:"flex w-full text-left items-center gap-2 px-2 py-2 rounded hover:bg-slate-100 text-sm",children:[r.jsx("span",{children:"\uD83D\uDEAA"})," ",r.jsx("span",{children:"Logout"})]})]})]})})}n=(d.then?(await d)():d)[0],a()}catch(e){a(e)}})},9559:(e,t,s)=>{s.d(t,{Z:()=>n});var a=s(997),r=s(6689),l=s(6302);function n({columns:e=[],data:t=[],loading:s=!1,pagination:n={page:1,pages:1,total:0,limit:20},onPageChange:i,onFilterChange:o,filters:d=[],selectable:c=!1,selectedIds:x=new Set,onToggleRow:m,onToggleAll:u,actions:p,title:h="Data Table",exportFileName:g="export",onExport:b,onBulkDelete:y,showSearch:f=!0,searchPlaceholder:j="Search..."}){let[v,N]=(0,r.useState)({}),[w,k]=(0,r.useState)(""),C=(0,r.useMemo)(()=>{let s=[...t];if(w){let t=w.toLowerCase();s=s.filter(s=>e.some(e=>{let a=s[e.key];return a&&String(a).toLowerCase().includes(t)}))}return Object.entries(v).forEach(([e,t])=>{if(t){let a=String(t).toLowerCase();s=s.filter(t=>{let s=t[e];return s&&String(s).toLowerCase().includes(a)})}}),s},[t,w,v,e]),P=(e,t)=>{N(s=>({...s,[e]:t}))},$=async()=>{0!==x.size&&y&&await y(Array.from(x))},S=C.length>0&&C.every(e=>x.has(e._id)),A=C.some(e=>x.has(e._id));return(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[a.jsx("div",{className:"p-4 border-b border-gray-200 bg-gradient-to-r from-gray-50 to-white",children:(0,a.jsxs)("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:h}),(0,a.jsxs)("div",{className:"flex items-center gap-2 flex-wrap",children:[c&&x.size>0&&(0,a.jsxs)("button",{onClick:$,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors text-sm font-medium flex items-center gap-2",children:[a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"Delete Selected (",x.size,")"]}),(0,a.jsxs)("button",{onClick:()=>{if(b){b(C);return}let t=C.map(t=>{let s={};return e.forEach(e=>{let a=t[e.key];s[e.label]=e.render?e.render(a,t):a??""}),s}),s=l.utils.json_to_sheet(t),a=l.utils.book_new();l.utils.book_append_sheet(a,s,"Sheet1"),l.writeFile(a,`${g}_${new Date().toISOString().split("T")[0]}.xlsx`)},className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors text-sm font-medium flex items-center gap-2",children:[a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Export Excel"]})]})]})}),a.jsx("div",{className:"p-4 border-b border-gray-200 bg-gray-50",children:(0,a.jsxs)("div",{className:"space-y-3",children:[f&&a.jsx("div",{children:a.jsx("input",{type:"text",placeholder:j,value:w,onChange:e=>k(e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none"})}),d&&d.length>0&&a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:d.map((e,t)=>a.jsx("div",{children:"select"===e.type?(0,a.jsxs)("select",{value:e.value||"",onChange:t=>o&&o(e.key,t.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none text-sm",children:[a.jsx("option",{value:"",children:e.placeholder||`All ${e.label}`}),e.options?.map(e=>a.jsx("option",{value:e.value,children:e.label},e.value))]}):a.jsx("input",{type:"text",placeholder:e.placeholder||`Filter by ${e.label}`,value:e.value||"",onChange:t=>o&&o(e.key,t.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none text-sm"})},t))})]})}),a.jsx("div",{className:"p-2 border-b border-gray-200 bg-gray-50",children:(0,a.jsxs)("div",{className:"grid gap-2",style:{gridTemplateColumns:`repeat(${e.length+(c?1:0)+(p?1:0)}, minmax(120px, 1fr))`},children:[c&&a.jsx("div",{className:"px-2",children:a.jsx("input",{type:"checkbox",checked:S,ref:e=>{e&&(e.indeterminate=A&&!S)},onChange:e=>u&&u(e.target.checked),className:"w-4 h-4 text-blue-600 rounded focus:ring-blue-500"})}),e.map(e=>a.jsx("div",{className:"px-2",children:a.jsx("input",{type:"text",placeholder:`Filter ${e.label}`,value:v[e.key]||"",onChange:t=>P(e.key,t.target.value),className:"w-full px-2 py-1 text-xs border border-gray-300 rounded focus:ring-1 focus:ring-blue-500 focus:border-transparent outline-none"})},e.key)),p&&a.jsx("div",{})]})}),a.jsx("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:(0,a.jsxs)("tr",{children:[c&&a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-12",children:a.jsx("input",{type:"checkbox",checked:S,ref:e=>{e&&(e.indeterminate=A&&!S)},onChange:e=>u&&u(e.target.checked),className:"w-4 h-4 text-blue-600 rounded focus:ring-blue-500"})}),e.map(e=>a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:e.label},e.key)),p&&a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-32",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:s?a.jsx("tr",{children:a.jsx("td",{colSpan:(c?1:0)+e.length+(p?1:0),className:"px-4 py-8 text-center",children:(0,a.jsxs)("div",{className:"flex items-center justify-center",children:[(0,a.jsxs)("svg",{className:"animate-spin h-6 w-6 text-blue-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),a.jsx("span",{className:"ml-2 text-gray-600",children:"Loading..."})]})})}):0===C.length?a.jsx("tr",{children:a.jsx("td",{colSpan:(c?1:0)+e.length+(p?1:0),className:"px-4 py-8 text-center text-gray-500",children:"No records found"})}):C.map((t,s)=>(0,a.jsxs)("tr",{className:"hover:bg-gray-50 transition-colors",children:[c&&a.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:a.jsx("input",{type:"checkbox",checked:x.has(t._id),onChange:e=>m&&m(t,e.target.checked),className:"w-4 h-4 text-blue-600 rounded focus:ring-blue-500"})}),e.map(e=>a.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-900",children:e.render?e.render(t[e.key],t):t[e.key]??"-"},e.key)),p&&a.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:p(t)})]},t._id||s))})]})}),n&&n.pages>1&&a.jsx("div",{className:"p-4 border-t border-gray-200 bg-gray-50",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"text-sm text-gray-700",children:["Showing ",a.jsx("span",{className:"font-medium",children:(n.page-1)*n.limit+1})," to"," ",a.jsx("span",{className:"font-medium",children:Math.min(n.page*n.limit,n.total)})," of"," ",a.jsx("span",{className:"font-medium",children:n.total})," results"]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>i&&i(n.page-1),disabled:1===n.page,className:"px-3 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),a.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:Math.min(5,n.pages)},(e,t)=>{let s;return s=n.pages<=5?t+1:n.page<=3?t+1:n.page>=n.pages-2?n.pages-4+t:n.page-2+t,a.jsx("button",{onClick:()=>i&&i(s),className:`px-3 py-2 border rounded-lg text-sm font-medium ${n.page===s?"bg-blue-600 text-white border-blue-600":"border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:s},s)})}),a.jsx("button",{onClick:()=>i&&i(n.page+1),disabled:n.page>=n.pages,className:"px-3 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})})]})}},8384:(e,t,s)=>{s.d(t,{Z:()=>i});var a=s(997),r=s(1664),l=s.n(r),n=s(1163);function i({items:e=[]}){return((0,n.useRouter)(),e&&0!==e.length)?a.jsx("nav",{className:"flex mb-6","aria-label":"Breadcrumb",children:a.jsx("ol",{className:"inline-flex items-center space-x-1 md:space-x-3",children:e.map((t,s)=>{let r=s===e.length-1;return(0,a.jsxs)("li",{className:"inline-flex items-center",children:[s>0&&a.jsx("svg",{className:"w-6 h-6 text-gray-400 mx-2",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})}),r?(0,a.jsxs)("span",{className:"text-sm font-medium text-gray-500 flex items-center",children:[t.icon&&a.jsx("span",{className:"mr-2",children:t.icon}),t.label]}):(0,a.jsxs)(l(),{href:t.href||"#",className:"text-sm font-medium text-gray-700 hover:text-blue-600 flex items-center transition-colors",children:[t.icon&&a.jsx("span",{className:"mr-2",children:t.icon}),t.label]})]},s)})})}):null}},6656:(e,t,s)=>{s.d(t,{Z:()=>l});var a=s(997),r=s(6689);function l({isOpen:e,onClose:t,onSubmit:s,title:l="Form",fields:n=[],initialData:i={},loading:o=!1,submitLabel:d="Submit",cancelLabel:c="Cancel",sections:x=[]}){let[m,u]=(0,r.useState)({}),[p,h]=(0,r.useState)({}),g=(e,t)=>{u(s=>{let a={...s,[e]:t},r=(x.length>0?x.flatMap(e=>e.fields):n).find(t=>t.key===e);if(r?.onChange){let e=r.onChange(t,a);if(e&&"object"==typeof e)return{...a,...e}}return a}),p[e]&&h(t=>{let s={...t};return delete s[e],s})},b=e=>{e.preventDefault();let t={};if((x.length>0?x.flatMap(e=>e.fields):n).forEach(e=>{e.required&&!m[e.key]&&(t[e.key]=`${e.label} is required`),"email"===e.type&&m[e.key]&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(m[e.key])&&(t[e.key]="Invalid email format")}),Object.keys(t).length>0){h(t);return}s(m)};if(!e)return null;let y=e=>{let t=m[e.key]??(e.defaultValue||""),s=p[e.key],r=`field-${e.key}`;return(0,a.jsxs)("div",{className:e.fullWidth?"col-span-2":"",children:[(0,a.jsxs)("label",{htmlFor:r,className:"block text-sm font-medium text-gray-700 mb-1",children:[e.label,e.required&&a.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),"select"===e.type?(0,a.jsxs)("select",{id:r,value:t,onChange:t=>g(e.key,t.target.value),disabled:e.disabled,className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition-all ${s?"border-red-500":"border-gray-300"} ${e.disabled?"bg-gray-100 cursor-not-allowed":"bg-white"}`,required:e.required,children:[a.jsx("option",{value:"",children:e.placeholder||`Select ${e.label}`}),e.options?.map(e=>a.jsx("option",{value:e.value,children:e.label},e.value))]}):"textarea"===e.type?a.jsx("textarea",{id:r,value:t,onChange:t=>g(e.key,t.target.value),rows:e.rows||3,placeholder:e.placeholder,disabled:e.disabled,className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition-all resize-none ${s?"border-red-500":"border-gray-300"} ${e.disabled?"bg-gray-100 cursor-not-allowed":"bg-white"}`,required:e.required}):"checkbox"===e.type?(0,a.jsxs)("div",{className:"flex items-center",children:[a.jsx("input",{id:r,type:"checkbox",checked:t||!1,onChange:t=>g(e.key,t.target.checked),disabled:e.disabled,className:"w-4 h-4 text-blue-600 rounded focus:ring-blue-500"}),a.jsx("label",{htmlFor:r,className:"ml-2 text-sm text-gray-700",children:e.checkboxLabel||e.label})]}):"date"===e.type?a.jsx("input",{id:r,type:"date",value:t,onChange:t=>g(e.key,t.target.value),disabled:e.disabled,className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition-all ${s?"border-red-500":"border-gray-300"} ${e.disabled?"bg-gray-100 cursor-not-allowed":"bg-white"}`,required:e.required}):a.jsx("input",{id:r,type:e.type||"text",value:t,onChange:t=>g(e.key,"number"===e.type?parseFloat(t.target.value)||0:t.target.value),placeholder:e.placeholder,disabled:e.disabled,min:e.min,max:e.max,step:e.step,className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition-all ${s?"border-red-500":"border-gray-300"} ${e.disabled?"bg-gray-100 cursor-not-allowed":"bg-white"}`,required:e.required}),s&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:s}),e.helpText&&a.jsx("p",{className:"mt-1 text-xs text-gray-500",children:e.helpText})]},e.key)};return a.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:(0,a.jsxs)("div",{className:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0",children:[a.jsx("div",{className:"fixed inset-0 transition-opacity bg-gray-500 bg-opacity-75",onClick:t}),(0,a.jsxs)("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-4xl sm:w-full",children:[a.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 px-6 py-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"text-xl font-semibold text-white",children:l}),a.jsx("button",{onClick:t,className:"text-white hover:text-gray-200 transition-colors",children:a.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),a.jsx("form",{onSubmit:b,className:"px-6 py-4 max-h-[70vh] overflow-y-auto",children:x.length>0?x.map((e,t)=>(0,a.jsxs)("div",{className:"mb-6",children:[e.title&&a.jsx("h4",{className:"text-lg font-medium text-gray-800 mb-4 pb-2 border-b border-gray-200",children:e.title}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:e.fields.map(e=>y(e))})]},t)):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:n.map(e=>y(e))})}),(0,a.jsxs)("div",{className:"bg-gray-50 px-6 py-4 flex items-center justify-end gap-3",children:[a.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-50 transition-colors",children:c}),(0,a.jsxs)("button",{type:"submit",onClick:b,disabled:o,className:"px-4 py-2 bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-lg text-sm font-medium hover:from-blue-700 hover:to-indigo-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:[o&&(0,a.jsxs)("svg",{className:"animate-spin h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),d]})]})]})]})})}},7073:(e,t,s)=>{s.a(e,async(e,a)=>{try{s.d(t,{Z:()=>p});var r=s(997),l=s(6689),n=s(1664),i=s.n(n),o=s(1163),d=s(5111),c=s(6197),x=e([d,c]);[d,c]=x.then?(await x)():x;let h=()=>({collapsed:!1,open:{}});function m({open:e}){return r.jsx(c.motion.span,{animate:{rotate:e?90:0},transition:{duration:.2},className:"inline-block",children:"▸"})}function u({node:e,depth:t=0,activePath:s,openMap:a,toggle:l,collapsed:n}){let o=!e.submenus||0===e.submenus.length,d=`sub:${e._id}`,x=!!a[d],p=!!(s&&e.path&&s.startsWith(e.path)),h=(0,r.jsxs)("div",{className:`flex items-center gap-2 px-3 py-2 rounded-xl transition-all duration-300 ease-in-out ${p?"bg-slate-700 text-white":"text-slate-200 hover:bg-slate-800/80"}`,onClick:()=>!o&&l(d),children:[!o&&r.jsx(m,{open:x}),!n&&r.jsx("span",{className:"text-sm font-medium truncate",children:e.name})]});return o?r.jsx(i(),{href:e.path||"#",title:n?e.name:void 0,className:"block",children:h}):(0,r.jsxs)("div",{children:[r.jsx("button",{title:n?e.name:void 0,className:"w-full text-left",children:h}),r.jsx(c.AnimatePresence,{initial:!1,children:x&&!n&&r.jsx(c.motion.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.25},className:"ml-3 pl-2 border-l border-slate-700 space-y-1",children:(e.submenus||[]).map(e=>r.jsx(u,{node:e,depth:t+1,activePath:s,openMap:a,toggle:l,collapsed:n},e._id))},"content")})]})}function p(){let[e,t]=(0,l.useState)([]),[{collapsed:s,open:a},n]=(0,l.useState)(h),i=(0,o.useRouter)().asPath,d=(0,l.useMemo)(()=>e,[e]),x=e=>n(t=>({...t,open:{...t.open,[e]:!t.open[e]}})),p=e=>x(`main:${e}`);return(0,r.jsxs)("aside",{className:`${s?"w-16":"w-64"} sticky top-0 self-start h-screen overflow-y-auto bg-slate-900 border-r border-slate-800 p-2 transition-all duration-300`,children:[(0,r.jsxs)("div",{className:"flex items-center justify-between px-2 mb-2",children:[!s&&r.jsx("div",{className:"text-xs uppercase tracking-wide text-slate-400",children:"Menu"}),r.jsx("button",{className:"text-slate-300 hover:text-white hover:bg-slate-800 rounded-lg p-1 transition-colors",onClick:()=>n(e=>({...e,collapsed:!e.collapsed})),title:s?"Expand sidebar":"Collapse sidebar",children:s?"\xbb":"\xab"})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[d.map(e=>{let t=!!a[`main:${e._id}`],l=(e.icon?.[0]||e.name?.[0]||"•").toUpperCase();return(0,r.jsxs)("div",{children:[(0,r.jsxs)("button",{className:`w-full flex items-center gap-3 px-3 py-2 rounded-xl text-left transition-all duration-300 ease-in-out ${t?"bg-slate-800 text-white":"text-slate-200 hover:bg-slate-800/60"}`,onClick:()=>p(e._id),title:s?e.name:void 0,children:[r.jsx("div",{className:"w-7 h-7 rounded-md bg-slate-800/80 text-slate-200 grid place-items-center text-sm",children:l}),!s&&r.jsx("div",{className:"font-semibold text-sm truncate flex-1",children:e.name}),!s&&r.jsx(m,{open:t})]}),r.jsx(c.AnimatePresence,{initial:!1,children:t&&!s&&r.jsx(c.motion.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.25},className:"mt-1 ml-2 space-y-1",children:(e.submenus||[]).map(e=>r.jsx(u,{node:e,activePath:i,openMap:a,toggle:x,collapsed:s},e._id))})})]},e._id)}),0===d.length&&r.jsx("div",{className:"px-3 py-2 text-xs text-slate-400",children:"Loading menus..."})]})]})}a()}catch(e){a(e)}})},5111:(e,t,s)=>{s.a(e,async(e,a)=>{try{s.d(t,{Dr:()=>i,Ft:()=>n,Hz:()=>o,Io:()=>x,bA:()=>m,h3:()=>u,rq:()=>d,wC:()=>c});var r=s(1391),l=e([r]);r=(l.then?(await l)():l)[0];let n=async e=>{let{data:t}=await r.ZP.get("/main-menus",{params:e});return t},i=async e=>{let{data:t}=await r.ZP.get("/sub-menus",{params:e});return t},o=e=>r.ZP.post("/main-menus",e),d=(e,t)=>r.ZP.put(`/main-menus/${e}`,t),c=e=>r.ZP.delete(`/main-menus/${e}`),x=e=>r.ZP.post("/sub-menus",e),m=(e,t)=>r.ZP.put(`/sub-menus/${e}`,t),u=e=>r.ZP.delete(`/sub-menus/${e}`);a()}catch(e){a(e)}})},5244:(e,t)=>{var s;Object.defineProperty(t,"x",{enumerable:!0,get:function(){return s}}),function(e){e.PAGES="PAGES",e.PAGES_API="PAGES_API",e.APP_PAGE="APP_PAGE",e.APP_ROUTE="APP_ROUTE"}(s||(s={}))}};